app.get('/search',(req,res) => {
    res.render('search.ejs');
});  

app.post('/find', (req, res) => {
  const student = [
	{name: 'Ann', ID: '12345', gender:'F'},
	{name: 'Jack', ID: '23456',gender:'F' },
	{name: 'Amy', ID: '34567', gender:'F'}
];

  client.connect((err) => {
    assert.equal(null, err);
    console.log("Connected successfully to server");
    const db = client.db(dbName);
    const criteria = { "studentName": studentName };

    findDocument(db, criteria, (docs) => {
      console.log("Query results:");
      for (doc of docs) {
        console.log(doc);
        res.status(200).render("table", {c: students});	
      }
      res.send(docs); 
      client.close();
      console.log("Closed DB connection");
    });
  });
});
