const findDocument = function(db, req,callback) {
  const collection = db.collection('student');

  collection.findOne({
    "StudentID": req.body.student_id
  }, function(error, results) {
    if (error) {
      throw error;
    }
    console.log(results);
    callback(results);
  });
};


app.get('/searchSucc',(req,res) => {
    res.render('searchSucc.ejs');
}); 

app.get('/search',(req,res) => {
    res.render('search.ejs');
});  

app.post('/search', (req, res) => {
  const db = client.db(dbName);
  console.log("Connected successfully to the MongoDB server.");
  findDocument(db, req, function(results){
  res.render('searchSucc.ejs',{results:results});
  console.log('Connected to MongoDB server closed.');
});
});
