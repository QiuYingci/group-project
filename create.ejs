const criteria = { "studentId": "d" };

const findDocument = (db, criteria, callback) => {
  let cursor = db.collection('student').find(criteria);
  cursor.toArray((err, docs) => {
    assert.equal(null, err);
    callback(docs);
  });
};

client.connect((err) => {
  assert.equal(null, err);
  console.log("Connected successfully to server");
  const db = client.db(dbName);
  findDocument(db, criteria, (docs) => {
    console.log("Query results:");
    for (doc of docs) {
      console.log(doc);
    }
    client.close();
    console.log("Closed DB connection");
  });
});


app.get('/search',(req,res) => {
    res.render('search.ejs');
});  

app.post('/search',(req,res) =>{

    res.send(req.body.student_name);
});

